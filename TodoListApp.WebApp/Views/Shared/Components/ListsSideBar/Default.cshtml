@model IEnumerable<TodoListDTO>
<div class="list-group-item list-group-item-action active py-1 lh-sm" aria-current="true">
    <div class="d-flex w-100 justify-content-between">

        <a class="btn btn-light btn-sm" asp-controller="TodoList" asp-action="Create" asp-route-id="admin" asp-route-returnUrl="@ViewContext.HttpContext.Request.PathAndQuery()">
            New to-do list
        </a>
        <small>Wed</small>
    </div>
   
</div>

<ul class="nav nav-pills flex-column mb-auto">
@foreach (var list in Model ?? Enumerable.Empty<TodoListDTO>() )
    {
        <li>
        <a href="@Url.Action(nameof(TaskController.GetAllTasksByListId), "task")?id=@list.Id" class="nav-link text-bg-dark text-white list-group-item list-group-item-action active py-1 lh-sm" aria-current="true">
            <div class="d-flex w-100 align-items-center justify-content-between">
                <strong class="mb-1">@list?.Title</strong>
                <small></small>
                
            </div>
            <div class="col-10 mb-1 small">@list?.Description</div>
                <div class=" mb-2 mb-md-0">
                    <a class="btn btn-warning btn-sm" asp-controller="TodoList" asp-action="Edit" asp-route-id="@list?.Id" asp-route-returnUrl="@ViewContext.HttpContext.Request.PathAndQuery()">
                        Edit
                    </a>
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#modal_@list?.Id">
                        Delete
                    </button>

                <!-- Modal -->
                <div class="modal fade" id="modal_@list.Id" tabindex="-1" aria-labelledby="modalLabel_@list.Id" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content text-dark">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel_@list.Id">
                                    Are you sure you want to delete this to-do list?
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                When you click "Delete", this to-do list along with all tasks and comments will be permanently removed.
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <a class="btn btn-danger" asp-controller="TodoList" asp-action="Delete" asp-route-id="@list.Id" asp-route-returnUrl="@ViewContext.HttpContext.Request.PathAndQuery()">
                                    Delete
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            
        </a>
        </li>
    }
</ul>
